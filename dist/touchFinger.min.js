!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["touch-finger"]=e():t["touch-finger"]=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,i){t.exports=i(1)},function(t,i,n){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function a(t,e){return t.x*e.x+t.y*e.y}function l(t,e){var i=o(t)*o(e);if(0===i)return 0;var n=a(t,e)/i;return n>1&&(n=1),Math.acos(n)}function h(t,e){return t.x*e.y-e.x*t.y}function u(t,e){var i=l(t,e);return h(t,e)>0&&(i*=-1),180*i/Math.PI}Object.defineProperty(i,"__esModule",{value:!0});var r=n(2),c=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),p=function(){},m=function(){function t(i,n){var a=this;s(this,t),this.start=function(t){if(t.touches){a.now=Date.now(),a.x1=t.touches[0].pageX,a.y1=t.touches[0].pageY,a.delta=a.now-(a.last||a.now),a.touchStart.dispatch(t,a.element),null!==a.preTapPosition.x&&(a.isDoubleTap=a.delta>0&&a.delta<=250&&Math.abs(a.preTapPosition.x-a.x1)<30&&Math.abs(a.preTapPosition.y-a.y1)<30,a.isDoubleTap&&clearTimeout(a.singleTapTimeout)),a.preTapPosition.x=a.x1,a.preTapPosition.y=a.y1,a.last=a.now;var e=a.preV;if(t.touches.length>1){a._cancelLongTap(),a._cancelSingleTap();var i={x:t.touches[1].pageX-a.x1,y:t.touches[1].pageY-a.y1};e.x=i.x,e.y=i.y,a.pinchStartLen=o(e),a.multipointStart.dispatch(t,a.element)}a._preventTap=!1,a.longTapTimeout=setTimeout(function(){a.longTap.dispatch(t,a.element),a._preventTap=!0},750)}},this.move=function(t){if(t.touches){var e=a.preV,i=t.touches.length,n=t.touches[0].pageX,s=t.touches[0].pageY;if(a.isDoubleTap=!1,i>1){var l=t.touches[1].pageX,h=t.touches[1].pageY,r={x:t.touches[1].pageX-n,y:t.touches[1].pageY-s};null!==e.x&&(a.pinchStartLen>0&&(t.zoom=o(r)/a.pinchStartLen,a.pinch.dispatch(t,a.element)),t.angle=u(r,e),a.rotate.dispatch(t,a.element)),e.x=r.x,e.y=r.y,null!==a.x2&&null!==a.sx2?(t.deltaX=(n-a.x2+l-a.sx2)/2,t.deltaY=(s-a.y2+h-a.sy2)/2):(t.deltaX=0,t.deltaY=0),a.twoFingerPressMove.dispatch(t,a.element),a.sx2=l,a.sy2=h}else{if(null!==a.x2){t.deltaX=n-a.x2,t.deltaY=s-a.y2;var c=Math.abs(a.x1-a.x2),p=Math.abs(a.y1-a.y2);(c>10||p>10)&&(a._preventTap=!0)}else t.deltaX=0,t.deltaY=0;a.pressMove.dispatch(t,a.element)}a.touchMove.dispatch(t,a.element),a._cancelLongTap(),a.x2=n,a.y2=s,i>1&&t.preventDefault()}},this.end=function(t){t.changedTouches&&(a._cancelLongTap(),t.touches.length<2&&(a.multipointEnd.dispatch(t,a.element),a.sx2=a.sy2=null),a.x2&&Math.abs(a.x1-a.x2)>30||a.y2&&Math.abs(a.y1-a.y2)>30?(t.direction=a._swipeDirection(a.x1,a.x2,a.y1,a.y2),a.swipeTimeout=setTimeout(function(){a.swipe.dispatch(t,a.element)},0)):(a.tapTimeout=setTimeout(function(){a._preventTap||a.tap.dispatch(t,a.element),a.isDoubleTap&&(a.doubleTap.dispatch(t,a.element),a.isDoubleTap=!1)},0),a.isDoubleTap||(a.singleTapTimeout=setTimeout(function(){a.singleTap.dispatch(t,self.element)},250))),a.touchEnd.dispatch(t,a.element),a.preV.x=0,a.preV.y=0,a.zoom=1,a.pinchStartLen=null,a.x1=a.x2=a.y1=a.y2=null)},this.cancelAll=function(){a._preventTap=!0,clearTimeout(a.singleTapTimeout),clearTimeout(a.tapTimeout),clearTimeout(a.longTapTimeout),clearTimeout(a.swipeTimeout)},this.cancel=function(){a.cancelAll(),a.touchCancel.dispatch(e,a.element)},this.element="string"==typeof i?document.querySelector(i):i,this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1,this.rotate=Object(r.a)(this.element,n.rotate||p),this.touchStart=Object(r.a)(this.element,n.touchStart||p),this.multipointStart=Object(r.a)(this.element,n.multipointStart||p),this.multipointEnd=Object(r.a)(this.element,n.multipointEnd||p),this.pinch=Object(r.a)(this.element,n.pinch||p),this.swipe=Object(r.a)(this.element,n.swipe||p),this.tap=Object(r.a)(this.element,n.tap||p),this.doubleTap=Object(r.a)(this.element,n.doubleTap||p),this.longTap=Object(r.a)(this.element,n.longTap||p),this.singleTap=Object(r.a)(this.element,n.singleTap||p),this.pressMove=Object(r.a)(this.element,n.pressMove||p),this.twoFingerPressMove=Object(r.a)(this.element,n.twoFingerPressMove||p),this.touchMove=Object(r.a)(this.element,n.touchMove||p),this.touchEnd=Object(r.a)(this.element,n.touchEnd||p),this.touchCancel=Object(r.a)(this.element,n.touchCancel||p),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}}return c(t,[{key:"_cancelLongTap",value:function(){clearTimeout(this.longTapTimeout)}},{key:"_cancelSingleTap",value:function(){clearTimeout(this.singleTapTimeout)}},{key:"_swipeDirection",value:function(t,e,i,n){return Math.abs(t-e)>=Math.abs(i-n)?t-e>0?"Left":"Right":i-n>0?"Up":"Down"}},{key:"destroy",value:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,null}}]),t}();i.default=m},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(e){n(this,t),this.el=e,this.handlers=[]}return s(t,[{key:"add",value:function(t){this.handlers.push(t)}},{key:"del",value:function(t){t||(this.handlers=[]);for(var e=this.handlers.length;e>=0;e--)this.handlers[e]===t&&this.handlers.splice(e,1)}},{key:"dispatch",value:function(){for(var t=0,e=this.handlers.length;t<e;t++){var i=this.handlers[t];"function"==typeof i&&i.apply(this.el,arguments)}}}]),t}(),a=function(t,e){var i=new o(t);return i.add(e),i};e.a=a}]).default});